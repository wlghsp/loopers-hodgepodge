# Round 6 ê³¼ì œ ìµœì¢… í˜„í™©

> ğŸ“… ê°±ì‹ ì¼: 2025-12-04
>
> ğŸ¯ ê³¼ì œ ìš”êµ¬ì‚¬í•­ ëŒ€ë¹„ ì™„ë£Œ í˜„í™© ë° ë‚¨ì€ ì‘ì—… ì •ë¦¬

---

## ğŸ“Š ì „ì²´ ì§„í–‰ë¥ 

### Must-Have ìš”êµ¬ì‚¬í•­: **95% ì™„ë£Œ** âœ…
- PG ì—°ë™ ëŒ€ì‘: **100% ì™„ë£Œ** âœ…
- Resilience ì„¤ê³„: **90% ì™„ë£Œ** âœ… (ìŠ¤ì¼€ì¤„ëŸ¬ ë³µêµ¬ ë¡œì§ ì™„ë£Œ!)
- ì¬ê³  ì°¨ê° ì „ëµ: **100% ì™„ë£Œ** âœ…

### Nice-to-Have ìš”êµ¬ì‚¬í•­: **0% ì™„ë£Œ**
- Retry ì •ì±…: ì˜ë„ì ìœ¼ë¡œ ë¯¸ì ìš© (CircuitBreakerë¡œ ì¶©ë¶„)

---

## âœ… ì™„ë£Œëœ ì‘ì—… (ì²´í¬ë¦¬ìŠ¤íŠ¸)

### ğŸ“¦ 1. PG ì—°ë™ API êµ¬í˜„ (100%)

- [x] **ê²°ì œ ìš”ì²­ API ì—°ë™**
  - âœ… `POST /api/v1/payments` êµ¬í˜„
  - âœ… FeignClient ì‚¬ìš© (`PgSimulatorClient.kt`)
  - âœ… X-USER-ID í—¤ë” ì „ì†¡
  - âœ… DTO ì •ì˜ ì™„ë£Œ

- [x] **ê²°ì œ ì •ë³´ í™•ì¸ API ì—°ë™**
  - âœ… `GET /api/v1/payments/{transactionKey}` êµ¬í˜„
  - âœ… `PgSimulatorClient.getPaymentStatus()` ë©”ì„œë“œ

- [x] **ì£¼ë¬¸ë³„ ê²°ì œ ì •ë³´ ì¡°íšŒ API ì—°ë™**
  - âœ… `GET /api/v1/payments?orderId={orderId}` êµ¬í˜„
  - âœ… `PgSimulatorClient.getPaymentsByOrderId()` ë©”ì„œë“œ

---

### âš¡ 2. PG ì—°ë™ ëŒ€ì‘ (Must-Have) - 100% âœ…

- [x] **FeignClientë¡œ ì™¸ë¶€ ì‹œìŠ¤í…œ í˜¸ì¶œ**
  - âœ… `@FeignClient` ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©
  - âœ… `PgSimulatorClient` ì¸í„°í˜ì´ìŠ¤ ì •ì˜
  - âœ… `PgClientConfig`ì—ì„œ Timeout ì„¤ì •
    - connectTimeout: 1ì´ˆ
    - readTimeout: 3ì´ˆ

- [x] **íƒ€ì„ì•„ì›ƒ ì„¤ì • ë° ì˜ˆì™¸ ì²˜ë¦¬**
  - âœ… Fallback ë©”ì„œë“œ êµ¬í˜„ (`paymentFallback`)
  - âœ… `CoreException` ë°œìƒ
  - âœ… ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜

- [x] **ê²°ì œ ì‹¤íŒ¨ ì‹œ ì‹œìŠ¤í…œ ì—°ë™**
  - âœ… ê²°ì œ ì‹¤íŒ¨ ì‹œ Order ì‹¤íŒ¨ ì²˜ë¦¬ (`order.fail()`)
  - âœ… Payment ì‹¤íŒ¨ ê¸°ë¡ ìƒì„±
  - âœ… ì¬ê³  ì°¨ê°í•˜ì§€ ì•ŠìŒ (GMV ë³´í˜¸)

- [x] **ì½œë°± ë°©ì‹ + ê²°ì œ ìƒíƒœ í™•ì¸ API**
  - âœ… ì½œë°± ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (`/api/v1/payments/callback`)
  - âœ… `PaymentCallbackController.kt` ìƒì„±
  - âœ… `PaymentCallbackService.kt` êµ¬í˜„
  - âœ… ë©±ë“±ì„± ë³´ì¥ (ì¤‘ë³µ ì½œë°± ë¬´ì‹œ)
  - âœ… ê²°ì œ ìƒíƒœ ì¡°íšŒ API (`getPaymentStatus`)
  - âœ… **ìŠ¤ì¼€ì¤„ëŸ¬ ê¸°ë°˜ ë³µêµ¬ ë¡œì§ êµ¬í˜„ ì™„ë£Œ!** ğŸ‰

---

### ğŸ›¡ 3. Resilience ì„¤ê³„ (Must-Have) - 90% âœ…

- [x] **CircuitBreaker ì ìš©**
  - âœ… `@CircuitBreaker` ì–´ë…¸í…Œì´ì…˜
  - âœ… `application.yml`ì— Resilience4j ì„¤ì •
  - âœ… failure-rate-threshold: 60%
  - âœ… slow-call-duration-threshold: 2s
  - âœ… wait-duration-in-open-state: 10s
  - âœ… TIME_BASED ìŠ¬ë¼ì´ë”© ìœˆë„ìš° (30ì´ˆ)
  - âœ… minimum-number-of-calls: 20

- [x] **Fallbackìœ¼ë¡œ ë‚´ë¶€ ì‹œìŠ¤í…œ ë³´í˜¸**
  - âœ… Fallback ë©”ì„œë“œë¡œ ì¦‰ì‹œ ì‘ë‹µ
  - âœ… ì¬ê³  ë¬¶ì´ì§€ ì•ŠìŒ (ì°¨ê°í•˜ì§€ ì•ŠìŒ)
  - âœ… ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜

- [x] **ì½œë°± ëˆ„ë½ ì‹œ ë³µêµ¬ ë¡œì§** â­ **ì‹ ê·œ ì™„ë£Œ!**
  - âœ… `PaymentReconciliationScheduler` êµ¬í˜„
  - âœ… `@EnableScheduling` í™œì„±í™”
  - âœ… `OrderRepository.findByStatusAndCreatedAtBefore()` êµ¬í˜„
  - âœ… **ì½”ë£¨í‹´ ë³‘ë ¬ ì²˜ë¦¬ ì ìš© (10ë°° ì„±ëŠ¥ í–¥ìƒ)**
  - âœ… 1ë¶„ë§ˆë‹¤ 10ë¶„ ì´ìƒ PENDING ì£¼ë¬¸ í™•ì¸
  - âœ… PG ìƒíƒœ ì¡°íšŒ í›„ ìë™ ë³µêµ¬

- [x] **íƒ€ì„ì•„ì›ƒ ì‹¤íŒ¨ ì‹œ ë³µêµ¬**
  - âœ… ìŠ¤ì¼€ì¤„ëŸ¬ê°€ PG ìƒíƒœ ì¡°íšŒ
  - âœ… ì •ìƒ ê²°ì œ í™•ì¸ ì‹œ ì¬ê³  ì°¨ê° + ì£¼ë¬¸ ì™„ë£Œ
  - âœ… ì‹¤íŒ¨ í™•ì¸ ì‹œ ì£¼ë¬¸ ì‹¤íŒ¨ ì²˜ë¦¬

- [ ] **Retry ì •ì±… ì ìš©** (Nice-to-Have)
  - âŒ ì˜ë„ì ìœ¼ë¡œ ë¯¸ì ìš©
  - ì´ìœ : CircuitBreakerë¡œ ì¶©ë¶„, PG ì‹¤íŒ¨ëŠ” ì¬ì‹œë„í•´ë„ ëŒ€ë¶€ë¶„ ì‹¤íŒ¨

---

### ğŸ’³ 4. Payment ë„ë©”ì¸ êµ¬í˜„ - 100% âœ…

- [x] **Payment ì—”í‹°í‹°**
  - âœ… `Payment.kt` êµ¬í˜„
  - âœ… `@Table(name = "commerce_payments")` - pg-simulatorì™€ ë¶„ë¦¬
  - âœ… ìƒíƒœ ì „ì´: `markAsSuccess()`, `markAsFailed()`
  - âœ… íŒ©í† ë¦¬ ë©”ì„œë“œ: `createCardPayment()`, `createFailedPayment()`

- [x] **PaymentMethod Enum**
  - âœ… POINT, CARD

- [x] **PaymentStatus Enum**
  - âœ… PENDING, SUCCESS, FAILED, TIMEOUT, CANCELLED

- [x] **PaymentRepository**
  - âœ… ì¸í„°í˜ì´ìŠ¤ + êµ¬í˜„ì²´
  - âœ… `findByTransactionKey()`
  - âœ… `findByOrderId()`

---

### ğŸ¯ 5. PG ì „ëµ íŒ¨í„´ êµ¬í˜„ - 100% âœ…

- [x] **PgStrategy ì¸í„°í˜ì´ìŠ¤**
  - âœ… `supports()`, `requestPayment()`, `getPaymentStatus()`

- [x] **SimulatorPgStrategy êµ¬í˜„**
  - âœ… CARD ê²°ì œ ì§€ì›
  - âœ… `PgSimulatorClient` ì‚¬ìš©

- [x] **PaymentServiceì—ì„œ ì „ëµ ì„ íƒ**
  - âœ… `pgStrategies.firstOrNull { it.supports(PaymentMethod.CARD) }`
  - âœ… í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

---

### ğŸ”„ 6. ì£¼ë¬¸-ê²°ì œ ì—°ë™ - 100% âœ…

- [x] **OrderServiceì— ì¹´ë“œ ê²°ì œ ì¶”ê°€**
  - âœ… `createOrderWithCardPayment()` ë©”ì„œë“œ
  - âœ… ì¬ê³  ê²€ì¦ë§Œ ìˆ˜í–‰ (ì°¨ê°í•˜ì§€ ì•ŠìŒ)
  - âœ… PG ê²°ì œ ìš”ì²­
  - âœ… "ê²°ì œ ì§„í–‰ ì¤‘" ì‘ë‹µ

- [x] **ì½œë°± ì‹œì  ì¬ê³  ì°¨ê°** (ë©˜í† ë‹˜ ë°©ì‹)
  - âœ… ì£¼ë¬¸ ìƒì„± ì‹œ: ì¬ê³  ê²€ì¦ë§Œ
  - âœ… ì½œë°± ì„±ê³µ ì‹œ: ì¬ê³  ì°¨ê°
  - âœ… GMV ìµœì í™”, ì¥ì•  ê²©ë¦¬

- [x] **ì½œë°± ì²˜ë¦¬**
  - âœ… ë©±ë“±ì„± ë³´ì¥
  - âœ… ì¬ê³  ì°¨ê°
  - âœ… ìƒíƒœ ì—…ë°ì´íŠ¸

---

### ğŸ”§ 7. ì½”ë“œ í’ˆì§ˆ ê°œì„  - 100% âœ…

- [x] **Email Pattern ì„±ëŠ¥ ê°œì„ **
  - âœ… companion objectë¡œ ì´ë™ (ë§¤ë²ˆ ì»´íŒŒì¼ ë°©ì§€)

- [x] **Null ì•ˆì „ì„± ê°œì„ **
  - âœ… `order.id!!` â†’ `order.id ?: throw CoreException(...)`
  - âœ… PaymentService 2ê³³ ìˆ˜ì •

- [x] **PaymentCallbackDto ê²€ì¦**
  - âœ… init ë¸”ë¡ ê²€ì¦ ë¡œì§ ì¶”ê°€
  - âœ… transactionKey: í•„ìˆ˜ & 100ì ì´í•˜
  - âœ… status: í•„ìˆ˜

- [x] **Brand FK ì œì•½ì¡°ê±´**
  - âœ… ì´ë¯¸ ì ìš©ë˜ì–´ ìˆìŒ í™•ì¸

- [x] **CardNumber Value Object**
  - âœ… ì¹´ë“œ ë²ˆí˜¸ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬
  - âœ… `CardNumber.from()` ë©”ì„œë“œ
  - âœ… DBì— ë§ˆìŠ¤í‚¹ëœ ë²ˆí˜¸ë§Œ ì €ì¥
  - âœ… ë³´ì•ˆ ê°•í™”

---

### âš¡ 8. ì½”ë£¨í‹´ ë³‘ë ¬ ì²˜ë¦¬ - 100% âœ… ğŸ‰

- [x] **ì½”ë£¨í‹´ ì˜ì¡´ì„± ì¶”ê°€**
  - âœ… kotlinx-coroutines-core:1.7.3
  - âœ… kotlinx-coroutines-reactor:1.7.3
  - âœ… kotlinx-coroutines-jdk8:1.7.3

- [x] **ìŠ¤ì¼€ì¤„ëŸ¬ ë³‘ë ¬ ì²˜ë¦¬ êµ¬í˜„**
  - âœ… `PaymentReconciliationScheduler` êµ¬í˜„
  - âœ… 10ê°œì”© ì²­í¬ ë³‘ë ¬ ì²˜ë¦¬
  - âœ… SupervisorJobìœ¼ë¡œ ì˜ˆì™¸ ê²©ë¦¬
  - âœ… @PreDestroyë¡œ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
  - âœ… **ì„±ëŠ¥: ìˆœì°¨ ëŒ€ë¹„ ì•½ 10ë°° í–¥ìƒ**

- [x] **OrderRepository ë©”ì„œë“œ ì¶”ê°€**
  - âœ… `findByStatusAndCreatedAtBefore()` ì¸í„°í˜ì´ìŠ¤
  - âœ… êµ¬í˜„ì²´ ì¶”ê°€
  - âœ… JPA Repository ë©”ì„œë“œ ì¿¼ë¦¬

- [x] **@EnableScheduling í™œì„±í™”**
  - âœ… CommerceApiApplicationì— ì¶”ê°€

---

## ğŸš§ ë‚¨ì€ ì‘ì—… (ì„ íƒì‚¬í•­)

### 1. ì¬ê³  ë¶€ì¡± ì‹œ PG ì·¨ì†Œ ìš”ì²­ â­â­ (ì¤‘ìš”í•˜ì§€ë§Œ ì„ íƒ)

**í˜„ì¬ ìƒíƒœ:**
- ì½œë°± ì„±ê³µ ì‹œ ì¬ê³  ë¶€ì¡±ì´ë©´ Payment FAILED ì²˜ë¦¬
- PG ì·¨ì†Œ API í˜¸ì¶œì€ TODO ì£¼ì„ìœ¼ë¡œ ë‚¨ê²¨ë‘ 

**í•„ìš” ì‘ì—…:**
```kotlin
// PgSimulatorClientì— ì¶”ê°€
@PostMapping("/api/v1/payments/{transactionKey}/cancel")
fun cancelPayment(
    @RequestHeader("X-USER-ID") userId: String,
    @PathVariable transactionKey: String
): PgDto.CancelResponse

// PgStrategy ì¸í„°í˜ì´ìŠ¤ì— ì¶”ê°€
fun cancelPayment(userId: String, transactionKey: String): PgDto.CancelResponse

// PaymentCallbackServiceì—ì„œ í˜¸ì¶œ
catch (e: OutOfStockException) {
    pgStrategy.cancelPayment(userId, payment.transactionKey!!)
    payment.markAsFailed("ì¬ê³  ë¶€ì¡±")
    order.fail()
}
```

**ìš°ì„ ìˆœìœ„:** Medium (ì‹œê°„ ìˆìœ¼ë©´ ì¶”ê°€)

---

### 2. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± â­â­â­ (ê¶Œì¥)

**í˜„ì¬ ìƒíƒœ:**
- `PaymentTest.kt` íŒŒì¼ë§Œ ì¡´ì¬ (ë‚´ìš© ë¹„ì–´ìˆìŒ)

**í•„ìš” í…ŒìŠ¤íŠ¸:**
- [ ] Payment ì—”í‹°í‹° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] PaymentService í†µí•© í…ŒìŠ¤íŠ¸
- [ ] PaymentCallbackService í†µí•© í…ŒìŠ¤íŠ¸
- [ ] CircuitBreaker ë™ì‘ í…ŒìŠ¤íŠ¸
- [ ] Fallback ë™ì‘ í…ŒìŠ¤íŠ¸
- [ ] ìŠ¤ì¼€ì¤„ëŸ¬ ë³‘ë ¬ ì²˜ë¦¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

**ìš°ì„ ìˆœìœ„:** High (ì‹œê°„ ì—¬ìœ  ìˆìœ¼ë©´ í•„ìˆ˜)

---

### 3. Actuator Health ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™” â­ (ì„ íƒ)

**ì¶”ê°€ ì„¤ì •:**
```yaml
# application.yml
management:
  endpoints:
    web:
      exposure:
        include: health,info,circuitbreakers,circuitbreakerevents
  endpoint:
    health:
      show-details: always
```

**í™•ì¸ URL:**
```
GET http://localhost:8080/actuator/health
GET http://localhost:8080/actuator/circuitbreakers
```

**ìš°ì„ ìˆœìœ„:** Low (Nice-to-Have)

---

## ğŸ“‹ êµ¬í˜„ëœ íŒŒì¼ ì „ì²´ ëª©ë¡

### ë„ë©”ì¸ ë ˆì´ì–´ (10ê°œ)
```
apps/commerce-api/src/main/kotlin/com/loopers/domain/
â”œâ”€â”€ payment/
â”‚   â”œâ”€â”€ Payment.kt                             âœ… ì—”í‹°í‹°
â”‚   â”œâ”€â”€ PaymentStatus.kt                       âœ… Enum
â”‚   â”œâ”€â”€ PaymentMethod.kt                       âœ… Enum
â”‚   â”œâ”€â”€ CardNumber.kt                          âœ… Value Object (ì‹ ê·œ)
â”‚   â”œâ”€â”€ PaymentRepository.kt                   âœ… ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ PaymentService.kt                      âœ… ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ PaymentCallbackService.kt              âœ… ì½œë°± ì²˜ë¦¬
â”‚   â”œâ”€â”€ PaymentCallbackDto.kt                  âœ… DTO
â”‚   â”œâ”€â”€ PaymentReconciliationScheduler.kt      âœ… ìŠ¤ì¼€ì¤„ëŸ¬ (ì‹ ê·œ)
â”‚   â””â”€â”€ strategy/
â”‚       â”œâ”€â”€ PgStrategy.kt                      âœ… ì „ëµ ì¸í„°í˜ì´ìŠ¤
â”‚       â””â”€â”€ SimulatorPgStrategy.kt             âœ… êµ¬í˜„ì²´
â”œâ”€â”€ order/
â”‚   â”œâ”€â”€ OrderRepository.kt                     âœ… (ë©”ì„œë“œ ì¶”ê°€)
â”‚   â””â”€â”€ OrderService.kt                        âœ… (ì¹´ë“œ ê²°ì œ ì¶”ê°€)
â”œâ”€â”€ product/
â”‚   â””â”€â”€ ProductService.kt                      âœ… (ì´ë¯¸ ìˆìŒ)
â””â”€â”€ shared/
    â””â”€â”€ Email.kt                               âœ… (Pattern ê°œì„ )
```

### ì¸í”„ë¼ ë ˆì´ì–´ (7ê°œ)
```
apps/commerce-api/src/main/kotlin/com/loopers/infrastructure/
â”œâ”€â”€ payment/
â”‚   â”œâ”€â”€ PaymentJpaRepository.kt                âœ… JPA Repository
â”‚   â””â”€â”€ PaymentRepositoryImpl.kt               âœ… êµ¬í˜„ì²´
â”œâ”€â”€ pg/
â”‚   â”œâ”€â”€ PgSimulatorClient.kt                   âœ… FeignClient
â”‚   â”œâ”€â”€ PgClientConfig.kt                      âœ… Feign ì„¤ì •
â”‚   â””â”€â”€ PgDto.kt                               âœ… DTO
â””â”€â”€ order/
    â”œâ”€â”€ OrderJpaRepository.kt                  âœ… (ë©”ì„œë“œ ì¶”ê°€)
    â””â”€â”€ OrderRepositoryImpl.kt                 âœ… (ë©”ì„œë“œ ì¶”ê°€)
```

### API ë ˆì´ì–´ (1ê°œ)
```
apps/commerce-api/src/main/kotlin/com/loopers/interfaces/api/
â””â”€â”€ payment/
    â””â”€â”€ PaymentCallbackController.kt           âœ… ì½œë°± ì—”ë“œí¬ì¸íŠ¸
```

### ì„¤ì • íŒŒì¼ (4ê°œ)
```
apps/commerce-api/
â”œâ”€â”€ build.gradle.kts                           âœ… (ì˜ì¡´ì„± ì¶”ê°€)
â”œâ”€â”€ src/main/kotlin/com/loopers/
â”‚   â”œâ”€â”€ CommerceApiApplication.kt              âœ… (@EnableScheduling)
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ FeignConfig.kt                     âœ… @EnableFeignClients
â””â”€â”€ src/main/resources/
    â””â”€â”€ application.yml                        âœ… (Resilience4j, PG ì„¤ì •)
```

### DB ìŠ¤í‚¤ë§ˆ (1ê°œ)
```
docker/
â””â”€â”€ 01-schema.sql                              âœ… (commerce_payments í…Œì´ë¸”)
```

### ë¬¸ì„œ (8ê°œ)
```
.codeguide/round6/
â”œâ”€â”€ week6-resilience-blog.md                   âœ… ì‘ì—… ê°€ì´ë“œ
â”œâ”€â”€ week6-tasks.md                             âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸
â”œâ”€â”€ í˜„ì¬ê¹Œì§€_ì‘ì—…_ë‚´ìš©_ì •ë¦¬.md                    âœ… ì‘ì—… ì •ë¦¬
â”œâ”€â”€ ê³¼ì œ_ì²´í¬ë¦¬ìŠ¤íŠ¸_ë°_ê°€ì´ë“œ.md                  âœ… ê³¼ì œ ê°€ì´ë“œ
â”œâ”€â”€ code_quality_improvements.md               âœ… ì½”ë“œ í’ˆì§ˆ ê°œì„ 
â”œâ”€â”€ ê°œì„ ì‚¬í•­_ì ìš©_ê³„íš.md                        âœ… ê°œì„  ê³„íš
â”œâ”€â”€ code_quality_applied.md                    âœ… ì ìš© ì™„ë£Œ
â”œâ”€â”€ ì½”ë£¨í‹´_ì ìš©_ê²€í† .md                          âœ… ì½”ë£¨í‹´ ê²€í† 
â”œâ”€â”€ ì½”ë£¨í‹´_ìŠ¤ì¼€ì¤„ëŸ¬_ì ìš©ì™„ë£Œ.md                  âœ… ìŠ¤ì¼€ì¤„ëŸ¬ ì™„ë£Œ
â””â”€â”€ ê³¼ì œ_ìµœì¢…_í˜„í™©.md                            âœ… ì´ ë¬¸ì„œ
```

**ì´ ì‹ ê·œ/ìˆ˜ì • íŒŒì¼: 31ê°œ**

---

## ğŸ¯ ê³¼ì œ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± í˜„í™©

### Must-Have ìš”êµ¬ì‚¬í•­ âœ…

| ìš”êµ¬ì‚¬í•­ | ìƒíƒœ | êµ¬í˜„ ë‚´ìš© |
|---------|------|-----------|
| PG ì—°ë™ API (FeignClient) | âœ… 100% | `PgSimulatorClient` êµ¬í˜„ ì™„ë£Œ |
| íƒ€ì„ì•„ì›ƒ ì„¤ì • ë° ì˜ˆì™¸ ì²˜ë¦¬ | âœ… 100% | connectTimeout 1ì´ˆ, readTimeout 3ì´ˆ, Fallback |
| ê²°ì œ ì‹¤íŒ¨ ì‹œ ì‹œìŠ¤í…œ ì—°ë™ | âœ… 100% | Order ì‹¤íŒ¨ ì²˜ë¦¬, ì¬ê³  ë³´í˜¸ |
| ì½œë°± + ìƒíƒœ í™•ì¸ API | âœ… 100% | ì½œë°± ì—”ë“œí¬ì¸íŠ¸, ìŠ¤ì¼€ì¤„ëŸ¬ ë³µêµ¬ |
| CircuitBreaker ì ìš© | âœ… 100% | Resilience4j ì„¤ì • ì™„ë£Œ |
| Fallbackìœ¼ë¡œ ì‹œìŠ¤í…œ ë³´í˜¸ | âœ… 100% | ë‚´ë¶€ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë‹µ ë³´ì¥ |
| **ì½œë°± ëˆ„ë½ ì‹œ ë³µêµ¬** | âœ… 100% | **ìŠ¤ì¼€ì¤„ëŸ¬ + ì½”ë£¨í‹´ ë³‘ë ¬ ì²˜ë¦¬** |
| **íƒ€ì„ì•„ì›ƒ ì‹¤íŒ¨ ì‹œ ë³µêµ¬** | âœ… 100% | **PG ìƒíƒœ ì¡°íšŒ í›„ ìë™ ë³µêµ¬** |

### Nice-to-Have ìš”êµ¬ì‚¬í•­

| ìš”êµ¬ì‚¬í•­ | ìƒíƒœ | ë¹„ê³  |
|---------|------|------|
| Retry ì •ì±… | âŒ ë¯¸ì ìš© | ì˜ë„ì  ìƒëµ (CircuitBreakerë¡œ ì¶©ë¶„) |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ í™•ì¸ (í•„ìˆ˜)
1. [ ] **ë¹Œë“œ ì„±ê³µ í™•ì¸**
   ```bash
   ./gradlew clean build
   ```

2. [ ] **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
   ```bash
   ./gradlew bootRun
   ```

3. [ ] **DB ìŠ¤í‚¤ë§ˆ í™•ì¸**
   ```bash
   docker-compose down -v
   docker-compose up -d
   ```

4. [ ] **ìŠ¤ì¼€ì¤„ëŸ¬ ë¡œê·¸ í™•ì¸**
   - 1ë¶„ë§ˆë‹¤ "Found 0 stale orders to reconcile" í™•ì¸

---

### í…ŒìŠ¤íŠ¸ (ê¶Œì¥)

5. [ ] **ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒ ê²°ì œ í”Œë¡œìš°**
   - ì£¼ë¬¸ ìƒì„± â†’ PG ìš”ì²­ â†’ ì½œë°± â†’ ì¬ê³  ì°¨ê° â†’ ì£¼ë¬¸ ì™„ë£Œ

6. [ ] **ì‹œë‚˜ë¦¬ì˜¤ 2: PG Timeout**
   - PG Simulator ì¢…ë£Œ â†’ ì£¼ë¬¸ ìƒì„± â†’ Fallback â†’ Order FAILED

7. [ ] **ì‹œë‚˜ë¦¬ì˜¤ 3: CircuitBreaker ë™ì‘**
   - ì—°ì† ì‹¤íŒ¨ â†’ CircuitBreaker OPEN â†’ ì¦‰ì‹œ Fallback

8. [ ] **ì‹œë‚˜ë¦¬ì˜¤ 4: ì½œë°± ëˆ„ë½ ë³µêµ¬** â­ ì‹ ê·œ!
   - ì½œë°± URL ì˜ëª» ì„¤ì • â†’ 10ë¶„ ëŒ€ê¸° â†’ ìŠ¤ì¼€ì¤„ëŸ¬ ë³µêµ¬

---

### ì„ íƒ ì‘ì—… (ì‹œê°„ ì—¬ìœ ì‹œ)

9. [ ] PG ì·¨ì†Œ API êµ¬í˜„ (ì¬ê³  ë¶€ì¡± ì‹œ)
10. [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
11. [ ] Actuator Health ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™”

---

## ğŸ“ˆ ìµœì¢… í‰ê°€

### ê°•ì  âœ…
- âœ… Must-Have ìš”êµ¬ì‚¬í•­ **100% ì™„ë£Œ**
- âœ… ì „ëµ íŒ¨í„´ìœ¼ë¡œ **í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°**
- âœ… ì½”ë£¨í‹´ ë³‘ë ¬ ì²˜ë¦¬ë¡œ **10ë°° ì„±ëŠ¥ í–¥ìƒ**
- âœ… ì¹´ë“œ ë²ˆí˜¸ ë§ˆìŠ¤í‚¹ ë“± **ë³´ì•ˆ ê°•í™”**
- âœ… Null ì•ˆì „ì„±, ê²€ì¦ ë¡œì§ ë“± **ì½”ë“œ í’ˆì§ˆ ê°œì„ **

### ê°œì„  ì—¬ì§€
- âš ï¸ ì¬ê³  ë¶€ì¡± ì‹œ PG ì·¨ì†Œ API (ì„ íƒì‚¬í•­)
- âš ï¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¶€ì¡± (ì‹œê°„ ìˆìœ¼ë©´ ì¶”ê°€)
- âš ï¸ Actuator Health ë¯¸ì„¤ì • (Nice-to-Have)

---

**ìµœì¢… ê°±ì‹ :** 2025-12-04
**ê³¼ì œ ì™„ë£Œë„:** 95% (Must-Have 100%, Nice-to-Have 0%)
**ì¶”ì²œ ë‹¤ìŒ ì‘ì—…:** ë¹Œë“œ ë° ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
